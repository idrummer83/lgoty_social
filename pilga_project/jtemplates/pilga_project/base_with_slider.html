{% extends 'pilga_project/base.html' %}


{% block content %}

    {% block slider %}
        <div class="slider-gradient" style="overflow: hidden;">
            <div class="slider-container" style="">
                {% for slide in main_slider %}
                    <div class="slider-wrap" style="background-image:
                            linear-gradient(to right,  hsla(0,0%,0%,0.8) 0%,hsla(0,0%,100%,0.15) 99%,hsla(0,0%,100%,0.15) 100%),
                            url({{ slide.image.url }});background-size: cover;background-repeat: no-repeat;">
                        <div class="container h-100">
                            <div class="header-wrap row flex-column flex-sm-row mt-sm-5 pt-3 ml-0 mr-0 mb-5 mb-sm-4">
                                <div class="slide-info header fs-22 font-weight-bold text-white mr-auto order-1 order-md-0 mt-auto mt-sm-0">{{ slide.description|safe }}</div>
                                <div class="text-white text-right order-0 order-md-1 ml-auto">
                                    <strong class="">0{{ loop.index }}</strong>/<span class="fs-14">0{{ main_slider|length }}</span>
                                </div>
                            </div>

                            <div class="row ml-0 mr-0">
                                <div class="mr-auto">
                                    <a class="slider-link hover-bold" href="{{ slide.outer_url }}" target="_blank">
                                        {{ _("Подробнее") }}
                                    </a>
                                </div>

                                <div class="slide-control">
                                    <div class="position-relative">
                                        <span class="prev slide_left d-inline-block" style="margin-right: -16px;">
                                            <svg width="68" height="63" viewBox="0 0 68 63" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g filter="url(#filter0_d)">
                                            <path d="M16 20C16 16.6863 18.6863 14 22 14H46C49.3137 14 52 16.6863 52 20V38C52 41.3137 49.3137 44 46 44H22C18.6863 44 16 41.3137 16 38V20Z" fill="white"/>
                                            </g>
                                            <rect x="56" y="44" width="44" height="44" rx="6" transform="rotate(-180 56 44)" fill="#FBCE59"/>
                                            <path d="M36 18L32 22L36 26" stroke="#1B1D1F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                            <defs>
                                            <filter id="filter0_d" x="0" y="1" width="68" height="62" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
                                            <feOffset dy="3"/>
                                            <feGaussianBlur stdDeviation="8"/>
                                            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0"/>
                                            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
                                            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
                                            </filter>
                                            </defs>
                                            </svg>
                                        </span>
                                        <span class="next slide_right">
                                            <svg width="68" height="63" viewBox="0 0 68 63" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <g filter="url(#filter0_d)">
                                                <path d="M16 20C16 16.6863 18.6863 14 22 14H46C49.3137 14 52 16.6863 52 20V38C52 41.3137 49.3137 44 46 44H22C18.6863 44 16 41.3137 16 38V20Z" fill="white"/>
                                                </g>
                                                <rect x="12" width="44" height="44" rx="6" fill="#FBCE59"/>
                                                <path d="M32 26L36 22L32 18" stroke="#1B1D1F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                                <defs>
                                                <filter id="filter0_d" x="0" y="1" width="68" height="62" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
                                                <feOffset dy="3"/>
                                                <feGaussianBlur stdDeviation="8"/>
                                                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0"/>
                                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
                                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
                                                </filter>
                                                </defs>
                                            </svg>
                                        </span>
                                    </div>
                                </div>
                            </div>

                        </div>
                        </div>
                {% endfor %}

            </div>
        </div>

    {% endblock %}

    {% block page %}
    {% endblock %}

    <script>
        $(document).ready(function(){
          $('.slider-container').slick({
            infinite: true,
              slidesToShow: 1,
              slidesToScroll: 1,
              autoplaySpeed: 7000,
              {#autoplay: true,#}
              dots: false,
                fade: true,
              {#arrows : false,#}
              prevArrow: $('.prev'),
              nextArrow: $('.next'),
          });
        });
    </script>

{% endblock %}